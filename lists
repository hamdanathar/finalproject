#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <math.h>
#include "list.h"

int main(void) {
    person *headp = NULL;
    person *tailp = NULL;
    person *temp = NULL;
    person newP;
    char response[10];
    
    FILE *inp = fopen("database.txt", "r");     //reading file function from here
    
    while(!feof(inp)){
        fscanf(inp, "%s", newP.name);
        fscanf(inp, "%d", &newP.age);
        addMember(newP, tailp, &headp, &tailp); //till here
    }
    printList(headp);
    
    void shuffleCards(); //before dealing out cards
    
    //choosing from discard pile or stack of cards:
    printf("Do you want to choose from the stack of cards or from the discard pile");
    scanf("%s", response);
    printf("Enter the new person's age:");
    scanf("%d", &newP.age);
    
    addMember(newP, headp, &headp, &tailp);
    printList(headp);
    
    printf("Which card do you want to discard? Enter like "1 h" for 1 of hearts.");
    scanf("%c %c", newP.name);
    temp = findName(headp, newP.name);
    if (temp == NULL)
        printf("Name not found in the database.\n");
    else{
        deleteMember(temp, &headp, &tailp);
        printf("Card %s was deleted from the database.\n", newP.name);
    }
    
    printList(headp);
    return 0;
}
